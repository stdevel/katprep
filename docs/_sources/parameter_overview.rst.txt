==================
Parameter overview
==================

katprep uses multiple host parameters to control maintenance preparation and execution per system. Some parameters are created automatically using ``katprep_parameters``, some need to be created manually. The following table gives an overview:

+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| Parameter                        | Example              | Explanation                                                                           |
+==================================+======================+=======================================================================================+
| katprep_mon                      | http://host/icinga   | URL of the monitoring system                                                          |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_mon_name                 | giertz.stankowic.loc | Object name within monitoring if not FQDN                                             |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_mon_type                 | nagios               | Monitoring host type: Nagios/Icinga 1.x (*nagios*) or Icinga2 (*icinga, default*)     |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_owner                    | ppinkepank           | System owner - **REQUIRED** as katprep won't manage the system otherwise              |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_patch_post_script        | /opt/start_node.sh   | Script to run after maintenance                                                       |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_patch_post_script_group  | root                 | Effective post-script group                                                           |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_patch_post_script_user   | root                 | Effective post-script user                                                            |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_patch_pre_script         | /opt/stop_node.sh    | Script to run before maintenance                                                      |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_patch_pre_script_group   | root                 | Effective pre-script group                                                            |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_patch_pre_script_user    | root                 | Effective pre-script user                                                             |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_reboot_post_script       | /opt/start_cache.sh  | Script to run after reboot                                                            |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_reboot_post_script_group | root                 | Effective post-script group                                                           |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_reboot_post_script_user  | root                 | Effective post-script user                                                            |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_reboot_pre_script        | /opt/wipe_cache.sh   | Script to run before reboot                                                           |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_reboot_pre_script_group  | root                 | Effective pre-script group                                                            |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_reboot_pre_script_user   | root                 | Effective pre-script user                                                             |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_virt                     | vpx://esx.test.loc   | Virtualization URL of the system (*libvirt or pyvmomi hostname*)                      |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_virt_name                | MYVM001              | VM name within hypervisor if not FQDN                                                 |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_virt_snapshot            | 1                    | Boolean (*1/0*) whether system needs to be protected by a snapshot before maintenance |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
| katprep_virt_type                | pyvmomi              | Virtualization host type: pyvmomi (*VMware*) or libvirt (*default*)                   |
+----------------------------------+----------------------+---------------------------------------------------------------------------------------+
